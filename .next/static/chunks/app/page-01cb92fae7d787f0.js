(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7367:function(e,a,t){Promise.resolve().then(t.bind(t,8437))},8437:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return m}});var n=t(7437),s=t(2265),r=t(6648);function l(e){let{info:a}=e;return(0,n.jsx)("div",{className:"card shadow-lg",children:(0,n.jsx)("div",{className:"card-body",children:Object.entries(a).map(e=>{let[a,t]=e;return(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h4",{className:"text-success fw-bold",children:a.charAt(0).toUpperCase()+a.slice(1)}),(0,n.jsx)("p",{className:"lead",children:t})]},a)})})})}function i(e){let{onImageUpload:a}=e,[t,r]=(0,s.useState)(!1),l=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?r(!0):"dragleave"===e.type&&r(!1)};return(0,n.jsxs)("div",{className:"upload-area p-5 border border-dashed rounded ".concat(t?"bg-light":""),onDragEnter:l,onDragLeave:l,onDragOver:l,onDrop:e=>{e.preventDefault(),e.stopPropagation(),r(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&a(e.dataTransfer.files[0])},children:[(0,n.jsx)("input",{type:"file",id:"image-upload",accept:"image/*",onChange:e=>{e.preventDefault(),e.target.files&&e.target.files[0]&&a(e.target.files[0])},className:"d-none"}),(0,n.jsx)("label",{htmlFor:"image-upload",className:"btn btn-success btn-lg d-block mx-auto mb-3",children:"Upload Image"}),(0,n.jsx)("p",{className:"text-center mb-0",children:t?"Drop the image here":"or drag and drop image here"})]})}let d=new(t(973)).$D("AIzaSyBU0ct11DuAYZ4tbIgdgWUrJ_WddL_GvR8");async function c(e){try{let a=d.getGenerativeModel({model:"gemini-1.5-flash"}),t=[{inlineData:{data:await o(e),mimeType:e.type}}],n=await a.generateContent(["\n      Identify this plant and provide the following information:\n      - Name\n      - Scientific Name\n      - Description\n      - Origin\n      - Growing Conditions\n      - Uses\n      - Interesting Facts\n\n      Format the response as a JSON object with these keys.\n    ",...t]),s=(await n.response).text(),r=s.match(/```json\n([\s\S]*?)\n```/);if(!r||!r[1])return function(e){let a=e.split("\n"),t={},n="";for(let e of a)if(e.includes(":")){let[a,s]=e.split(":");t[n=a.trim()]=s.trim()}else n&&e.trim()&&(t[n]+=" "+e.trim());return t}(s);{let e=r[1];return JSON.parse(e)}}catch(e){throw console.error("Error in plant identification:",e),e}}async function o(e){return new Promise(a=>{let t=new FileReader;t.onloadend=()=>a(t.result.split(",")[1]),t.readAsDataURL(e)})}function m(){let[e,a]=(0,s.useState)(null),[t,d]=(0,s.useState)(null),[o,m]=(0,s.useState)(!1),[u,p]=(0,s.useState)(null),h=async e=>{m(!0),p(null);try{let t=URL.createObjectURL(e);d(t);let n=await c(e);a(n)}catch(e){p("Error identifying plant. Please try again."),console.error(e)}finally{m(!1)}};return(0,n.jsx)("div",{className:"row justify-content-center",children:(0,n.jsxs)("div",{className:"col-lg-8",children:[(0,n.jsx)("div",{className:"card shadow-lg mb-4",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsx)("h2",{className:"card-title text-center mb-4",children:"Welcome to PlantPal"}),(0,n.jsx)("p",{className:"lead text-center mb-4",children:"Discover the wonders of nature by identifying plants using our advanced AI. Simply upload an image, and we'll provide you with detailed information about the plant."}),(0,n.jsx)(i,{onImageUpload:h})]})}),t&&(0,n.jsx)("div",{className:"card shadow-lg mb-4",children:(0,n.jsx)("div",{className:"card-body text-center",children:(0,n.jsx)(r.default,{src:t,alt:"Uploaded plant",width:300,height:300,className:"img-fluid rounded plant-image"})})}),o&&(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"spinner-border text-success",role:"status",children:(0,n.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,n.jsx)("p",{className:"mt-2",children:"Identifying plant..."})]}),u&&(0,n.jsx)("div",{className:"alert alert-danger",role:"alert",children:u}),e&&(0,n.jsx)(l,{info:e})]})})}}},function(e){e.O(0,[582,971,23,744],function(){return e(e.s=7367)}),_N_E=e.O()}]);